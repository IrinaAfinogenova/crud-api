(()=>{var e={738:(e,r,t)=>{const s=t(147),n=t(17),o=t(37),i=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function a(e){console.log(`[dotenv][DEBUG] ${e}`)}const c={config:function(e){let r=n.resolve(process.cwd(),".env"),t="utf8";const i=Boolean(e&&e.debug),d=Boolean(e&&e.override);var u;e&&(null!=e.path&&(r="~"===(u=e.path)[0]?n.join(o.homedir(),u.slice(1)):u),null!=e.encoding&&(t=e.encoding));try{const e=c.parse(s.readFileSync(r,{encoding:t}));return Object.keys(e).forEach((function(r){Object.prototype.hasOwnProperty.call(process.env,r)?(!0===d&&(process.env[r]=e[r]),i&&a(!0===d?`"${r}" is already defined in \`process.env\` and WAS overwritten`:`"${r}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[r]=e[r]})),{parsed:e}}catch(e){return i&&a(`Failed to load ${r} ${e.message}`),{error:e}}},parse:function(e){const r={};let t,s=e.toString();for(s=s.replace(/\r\n?/gm,"\n");null!=(t=i.exec(s));){const e=t[1];let s=t[2]||"";s=s.trim();const n=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===n&&(s=s.replace(/\\n/g,"\n"),s=s.replace(/\\r/g,"\r")),r[e]=s}return r}};e.exports.config=c.config,e.exports.parse=c.parse,e.exports=c},471:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.USERS=void 0,r.USERS={}},698:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createUser=void 0;const s=t(471),n=t(291),o=t(593),i=t(21);r.createUser=(e,r)=>{const t=i.v4(),a=o.checkSchema(r);if(a)return n.sendError(e,a);s.USERS[t]=Object.assign({id:t},r),e.writeHead(200,{"Content-Type":"application/json"}),e.end(JSON.stringify({data:"success"}))}},759:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deleteUser=void 0;const s=t(471),n=t(291);r.deleteUser=(e,r)=>{if(!s.USERS[r])return n.sendError(e,"user not found");s.USERS[r]=null,e.writeHead(200,{"Content-Type":"application/json"}),e.end(JSON.stringify({data:"success"}))}},291:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sendError=void 0,r.sendError=(e,r,t=404)=>{e.writeHead(t,{"Content-Type":"application/json"}),e.end(JSON.stringify({messege:r}))}},615:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sendUser=void 0;const s=t(21),n=t(471),o=t(291);r.sendUser=(e,r)=>s.validate(r)?n.USERS[r]?(e.writeHead(200,{"Content-Type":"application/json"}),void e.end(JSON.stringify({data:n.USERS[r]}))):o.sendError(e,"user not founded"):o.sendError(e,"user id is not valid")},571:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sendUsersList=void 0;const s=t(471),n=t(593);r.sendUsersList=e=>{e.writeHead(200,{"Content-Type":"application/json"}),e.end(JSON.stringify({data:n.prepearUsersList(s.USERS)}))}},790:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.updateUser=void 0;const s=t(593),n=t(291),o=t(471);r.updateUser=(e,r,t)=>{const i=s.checkSchema(t);if(i)return n.sendError(e,i);o.USERS[r]=Object.assign(Object.assign({},o.USERS[r]),t),e.writeHead(200,{"Content-Type":"application/json"}),e.end(JSON.stringify({data:"success"}))}},607:function(e,r,t){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const n=s(t(685)),o=s(t(738)),i=t(698),a=t(759),c=t(291),d=t(615),u=t(571),l=t(790),p=n.default.createServer();o.default.config(),p.on("request",((e,r)=>{const{url:t,method:s}=e,[,n,o,p]=t.split("/");console.log("11"),"api"===n&&"users"===o?"GET"!==s||p?"GET"===s&&p?d.sendUser(r,p):"POST"!==s?"PUT"!==s||p?"PUT"===s&&p?e.on("data",(e=>{l.updateUser(r,p,JSON.parse(e))})):"DELETE"!==s?c.sendError(r,"invalid request"):a.deleteUser(r,p):u.sendUsersList(r):e.on("data",(e=>{i.createUser(r,JSON.parse(e))})):u.sendUsersList(r):c.sendError(r,"invalid request")})),p.listen(process.env.PORT||8080)},593:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.checkSchema=r.prepearUsersList=void 0,r.prepearUsersList=e=>Object.values(e).filter(Boolean);const t={username:{validate:e=>e&&"string"==typeof e,errorMessage:"username must be a string"},age:{validate:e=>e&&"number"==typeof e,errorMessage:"age must be a number"},hobbies:{validate:e=>e&&Array.isArray(e)&&e.every((e=>"string"==typeof e)),errorMessage:"hobbies must be a array of strings or empty array"}};r.checkSchema=e=>{const{username:r,age:s,hobbies:n}=e;let o="";return Object.keys(t).forEach((r=>{const{validate:s,errorMessage:n}=t[r];e[r]&&s(e[r])||(o+=`${t[r].errorMessage} `)})),o}},21:(e,r,t)=>{"use strict";t.r(r),t.d(r,{NIL:()=>O,parse:()=>b,stringify:()=>l,v1:()=>g,v3:()=>h,v4:()=>U,v5:()=>m,validate:()=>d,version:()=>E});const s=require("crypto");var n=t.n(s);const o=new Uint8Array(256);let i=o.length;function a(){return i>o.length-16&&(n().randomFillSync(o),i=0),o.slice(i,i+=16)}const c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,d=function(e){return"string"==typeof e&&c.test(e)},u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).substr(1));const l=function(e,r=0){const t=(u[e[r+0]]+u[e[r+1]]+u[e[r+2]]+u[e[r+3]]+"-"+u[e[r+4]]+u[e[r+5]]+"-"+u[e[r+6]]+u[e[r+7]]+"-"+u[e[r+8]]+u[e[r+9]]+"-"+u[e[r+10]]+u[e[r+11]]+u[e[r+12]]+u[e[r+13]]+u[e[r+14]]+u[e[r+15]]).toLowerCase();if(!d(t))throw TypeError("Stringified UUID is invalid");return t};let p,f,v=0,y=0;const g=function(e,r,t){let s=r&&t||0;const n=r||new Array(16);let o=(e=e||{}).node||p,i=void 0!==e.clockseq?e.clockseq:f;if(null==o||null==i){const r=e.random||(e.rng||a)();null==o&&(o=p=[1|r[0],r[1],r[2],r[3],r[4],r[5]]),null==i&&(i=f=16383&(r[6]<<8|r[7]))}let c=void 0!==e.msecs?e.msecs:Date.now(),d=void 0!==e.nsecs?e.nsecs:y+1;const u=c-v+(d-y)/1e4;if(u<0&&void 0===e.clockseq&&(i=i+1&16383),(u<0||c>v)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=c,y=d,f=i,c+=122192928e5;const g=(1e4*(268435455&c)+d)%4294967296;n[s++]=g>>>24&255,n[s++]=g>>>16&255,n[s++]=g>>>8&255,n[s++]=255&g;const b=c/4294967296*1e4&268435455;n[s++]=b>>>8&255,n[s++]=255&b,n[s++]=b>>>24&15|16,n[s++]=b>>>16&255,n[s++]=i>>>8|128,n[s++]=255&i;for(let e=0;e<6;++e)n[s+e]=o[e];return r||l(n)},b=function(e){if(!d(e))throw TypeError("Invalid UUID");let r;const t=new Uint8Array(16);return t[0]=(r=parseInt(e.slice(0,8),16))>>>24,t[1]=r>>>16&255,t[2]=r>>>8&255,t[3]=255&r,t[4]=(r=parseInt(e.slice(9,13),16))>>>8,t[5]=255&r,t[6]=(r=parseInt(e.slice(14,18),16))>>>8,t[7]=255&r,t[8]=(r=parseInt(e.slice(19,23),16))>>>8,t[9]=255&r,t[10]=(r=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=r/4294967296&255,t[12]=r>>>24&255,t[13]=r>>>16&255,t[14]=r>>>8&255,t[15]=255&r,t};function S(e,r,t){function s(e,s,n,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const r=[];for(let t=0;t<e.length;++t)r.push(e.charCodeAt(t));return r}(e)),"string"==typeof s&&(s=b(s)),16!==s.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let i=new Uint8Array(16+e.length);if(i.set(s),i.set(e,s.length),i=t(i),i[6]=15&i[6]|r,i[8]=63&i[8]|128,n){o=o||0;for(let e=0;e<16;++e)n[o+e]=i[e];return n}return l(i)}try{s.name=e}catch(e){}return s.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",s.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",s}const h=S("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),n().createHash("md5").update(e).digest()})),U=function(e,r,t){const s=(e=e||{}).random||(e.rng||a)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,r){t=t||0;for(let e=0;e<16;++e)r[t+e]=s[e];return r}return l(s)},m=S("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),n().createHash("sha1").update(e).digest()})),O="00000000-0000-0000-0000-000000000000",E=function(e){if(!d(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},147:e=>{"use strict";e.exports=require("fs")},685:e=>{"use strict";e.exports=require("http")},37:e=>{"use strict";e.exports=require("os")},17:e=>{"use strict";e.exports=require("path")}},r={};function t(s){var n=r[s];if(void 0!==n)return n.exports;var o=r[s]={exports:{}};return e[s].call(o.exports,o,o.exports,t),o.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var s in r)t.o(r,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t(607)})();